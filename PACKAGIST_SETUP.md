# Настройка Packagist

## Важно для обновления версий

Packagist определяет версии пакета по **git тегам**, а не по полю `version` в `composer.json`.

### Как обновить версию на Packagist

1. **Убедитесь, что поле `version` удалено из `composer.json`**
   - Packagist игнорирует это поле
   - Версия определяется автоматически по git тегам

2. **Создайте git тег для новой версии:**
   ```bash
   git tag v1.1.0 -m "Описание версии"
   git push origin v1.1.0
   # или все теги сразу:
   git push origin --tags
   ```

3. **Packagist автоматически обновится** (если настроено автообновление)
   - Обычно это занимает несколько минут
   - Можно обновить вручную на странице пакета в Packagist (кнопка "Update")

### Формат тегов

Используйте семантическое версионирование:
- `v1.0.0` - стабильная версия
- `v1.1.0` - минорное обновление
- `v2.0.0` - мажорное обновление

Или без префикса `v`:
- `1.0.0`
- `1.1.0`

### Проверка тегов

```bash
# Показать все теги
git tag -l

# Показать теги с аннотациями
git tag -l -n

# Удалить тег (если ошибочно создан)
git tag -d v1.1.0
git push origin :refs/tags/v1.1.0
```

### Автообновление Packagist

Если пакет подключен к GitHub через webhook:
1. При пуше тега в GitHub
2. GitHub отправляет webhook в Packagist
3. Packagist автоматически обновляет версии (обычно в течение 5-10 минут)

### Ручное обновление

1. Перейдите на страницу пакета в Packagist
2. Нажмите кнопку **"Update"**
3. Дождитесь завершения обновления

### Текущие теги в репозитории

- `v1.0.0` - Первый релиз
- `v1.1.0` - Оптимизация: автоматическое определение middleware, автосоздание директорий
