# –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–∫–µ—Ç–∞ letoceiling-coder/media

> üöÄ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É `php artisan media:install` –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω—ã—Ö —à–∞–≥–æ–≤ –Ω–∏–∂–µ!

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
composer require letoceiling-coder/media
php artisan media:install
php artisan migrate
npm install vue@^3.5.0 vue-router@^4.6.0 fslightbox-vue@^3.0.1 sweetalert2@^11.26.3 vue-advanced-cropper@^2.8.9
npm run build
```

–ö–æ–º–∞–Ω–¥–∞ `php artisan media:install` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ —à–∞–≥–∏ –Ω–∏–∂–µ.

### –û–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã `media:install`:

- `--force` - –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã
- `--no-components` - –ù–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `--no-styles` - –ù–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å CSS —Å—Ç–∏–ª–∏
- `--no-assets` - –ù–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
php artisan media:install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
php artisan media:install --force

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ API)
php artisan media:install --no-components --no-styles --no-assets
```

---

## –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–∞–∂–¥—ã–º —à–∞–≥–æ–º)

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ Composer

```bash
composer require letoceiling-coder/media
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
php artisan migrate
```

### –®–∞–≥ 3: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏)

```bash
php artisan vendor:publish --tag=media-config
```

### –®–∞–≥ 4: –ü—É–±–ª–∏–∫–∞—Ü–∏—è Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```bash
php artisan vendor:publish --tag=media-components
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- `resources/js/vendor/media/components/Media.vue`
- `resources/js/vendor/media/utils/api.js`
- `resources/js/vendor/media/composables/useAuthToken.js`

### –®–∞–≥ 5: –ü—É–±–ª–∏–∫–∞—Ü–∏—è CSS —Å—Ç–∏–ª–µ–π (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```bash
php artisan vendor:publish --tag=media-styles
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç `resources/css/vendor/media.css` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.

### –®–∞–≥ 6: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CSS —Å—Ç–∏–ª–µ–π

**–í–∞–∂–Ω–æ:** –ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!

–î–æ–±–∞–≤—å—Ç–µ –≤ `resources/css/app.css`:

```css
@import './vendor/media.css';
```

–ò–ª–∏ –≤ `resources/js/app.js`:

```javascript
import '../css/vendor/media.css'
```

### –®–∞–≥ 7: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install vue@^3.5.0 vue-router@^4.6.0 fslightbox-vue@^3.0.1 sweetalert2@^11.26.3 vue-advanced-cropper@^2.8.9
```

### –®–∞–≥ 8: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–∫–æ–Ω–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
php artisan vendor:publish --tag=media-assets
```

–≠—Ç–æ —Å–∫–æ–ø–∏—Ä—É–µ—Ç –∏–∫–æ–Ω–∫–∏ –ø–∞–ø–æ–∫ –≤ `public/img/system/media/`.

### –®–∞–≥ 9: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –î–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç –≤ –≤–∞—à Vue Router!

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –±–µ–∑ —ç—Ç–æ–≥–æ —Ä–æ—É—Ç–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É fallback –Ω–∞ `window.location`, –Ω–æ –¥–ª—è –ª—É—á—à–µ–≥–æ UX (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç.

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª —Ä–æ—É—Ç–æ–≤ –∞–¥–º–∏–Ω–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `resources/js/router/admin.js`) –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ä–æ—É—Ç –≤–Ω—É—Ç—Ä–∏ `children` —Ä–æ—É—Ç–∞ `/admin`, **–ü–ï–†–ï–î** —Ä–æ—É—Ç–æ–º `media`:

```javascript
{
  path: 'media/:id/edit',
  name: 'admin.media.edit',
  component: () => import('@/vendor/media/components/EditImage.vue'),
  meta: { title: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ' },
},
```

**–ü—Ä–∏–º–µ—Ä:**

```javascript
{
  path: '/admin',
  component: AdminLayout,
  children: [
    {
      path: 'media',
      name: 'admin.media',
      component: () => import('../pages/admin/MediaPage.vue'),
    },
    {
      path: 'media/:id/edit',  // ‚Üê –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç —Ä–æ—É—Ç
      name: 'admin.media.edit',
      component: () => import('@/vendor/media/components/EditImage.vue'),
      meta: { title: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ' },
    },
  ],
}
```

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –†–æ—É—Ç `media/:id/edit` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ü–ï–†–ï–î** —Ä–æ—É—Ç–æ–º `media` –≤ —Å–ø–∏—Å–∫–µ —Ä–æ—É—Ç–æ–≤! –ò–Ω–∞—á–µ Vue Router –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Ç—å.

–ï—Å–ª–∏ —Ä–æ—É—Ç—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –∫–æ–º–∞–Ω–¥–∞ `php artisan media:install` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç —ç—Ç–æ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
php artisan media:install --auto-fix-routes
```

### –®–∞–≥ 10: –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
npm run build
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### –®–∞–≥ 11: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```vue
<template>
  <Media />
</template>

<script setup>
import Media from '@/vendor/media/components/Media.vue'
</script>
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

1. ‚úÖ –ü–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
3. ‚úÖ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã
4. ‚úÖ CSS —Å—Ç–∏–ª–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
5. ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
6. ‚úÖ –ò–∫–æ–Ω–∫–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏ –∏ –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏!

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–∑ —Å—Ç–∏–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
1. CSS —Å—Ç–∏–ª–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (`php artisan vendor:publish --tag=media-styles`)
2. CSS —Ñ–∞–π–ª –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ `app.css` –∏–ª–∏ `app.js`
3. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω (`npm run build`)

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∫–æ–Ω–∫–∏ –ø–∞–ø–æ–∫ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –∏–∫–æ–Ω–∫–∏:
```bash
php artisan vendor:publish --tag=media-assets
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—É—Ç–µ–π.

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```bash
npm install vue@^3.5.0 vue-router@^4.6.0 fslightbox-vue@^3.0.1 sweetalert2@^11.26.3 vue-advanced-cropper@^2.8.9
```
